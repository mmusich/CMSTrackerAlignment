import subprocess
import shlex

runs = [256801, 256843, 256867, 256868, 256869, 256936, 256941, 257394, 257396, 257397, 257399, 257400, 257461, 257487, 257490, 257531, 257599, 257613, 257645, 257682, 257734, 257751, 257805, 257816, 257823, 257968, 257969, 258129, 258157, 258158, 258159, 258175, 258177, 258211, 258213, 258214, 258287, 258313, 258403, 258425, 258427, 258428, 258434, 258440, 258443, 258444, 258445, 258446, 258448, 258656, 258694, 258702, 258703, 258705, 258706, 258712, 258714, 258741, 258742, 258745, 258749, 258750, 259208, 259431, 259626, 259636, 259637, 259685, 259686, 259721, 259809, 259810, 259811, 259818, 259820, 259821, 259822, 259861, 259862, 259884, 259890, 259891, 260039, 260041, 260043, 260066, 260101, 260105, 260108, 260132, 260136, 260230, 260232, 260233, 260234, 260373, 260427, 260490, 260493, 260532, 260536, 260538, 260576, 260627, 262163, 262167, 262204, 262205, 262235, 262250, 262252, 262254, 262270, 262271, 262273, 262274, 262277, 262328, 262620, 262640, 262656, 262694, 262695, 262703, 262726, 262733, 262735, 262768, 262777, 262784, 262811, 262816, 262818, 262819, 262834, 262836, 262837, 262893, 262921, 262987, 262988, 263005, 263007, 263022, 263031, 263033, 263035, 263233]

finalList = []
#2015-09-19 15:57:28

for run in runs:
    command = "./das_client.py --query=\"run=" + str(run) + " | grep run.end_time\" --limit=0"
    print command
    p = subprocess.Popen(shlex.split(command),stdout = subprocess.PIPE)
    out = p.stdout.read()
    out = out.replace("\n","")
    out = out.split(" ")
    date = out[0].split("-")
    time = out[1].split(":")
    #print date
    #print time
    dateString = date[0] + date[1] + date[2] + time[0] + time[1] + time[2]
    finalList.append(int(dateString))

print finalList
